<div class="row">
	<div class="col-sm-6">
		<div class="panel panel-default">
			<div class="panel-heading">User</div>
			<div class="panel-body">
				<div class="col-md-12">
					<form ng-submit="userCtrl.submit()" name="userCtrl.userForm" novalidate>

						<div class="form-group" ng-class="{ 'has-error': userCtrl.userForm.username.$invalid && userCtrl.userForm.username.$dirty }">
							<label for="username">Username:</label>
							<input type="text" required class="form-control" ng-model="userCtrl.user.username" id="username" name="username">
						</div>

						<div class="form-group" ng-class="{ 'has-error': userCtrl.userForm.password.$invalid && userCtrl.userForm.password.$dirty }">
							<label for="pwd">Password:</label>
							<input type="password" required class="form-control" id="pwd" ng-model="userCtrl.user.password" name="password">
						</div>

						<div class="form-group" ng-class="{ 'has-error': userCtrl.userForm.email.$invalid && userCtrl.userForm.email.$dirty }">
							<label for="email">Email:</label>
							<input type="text" required class="form-control" ng-model="userCtrl.user.email" id="email" name="email">
						</div>

						<div class="form-group" ng-class="{ 'has-error': userCtrl.userForm.firstName.$invalid && userCtrl.userForm.firstName.$dirty }">
							<label for="firstName">First Name:</label>
							<input type="text" required class="form-control" ng-model="userCtrl.user.firstName" id="firstName" name="firstName">
						</div>

						<div class="form-group" ng-class="{ 'has-error': userCtrl.userForm.lastName.$invalid && userCtrl.userForm.lastName.$dirty }">
							<label for="lastName">Last Name:</label>
							<input type="text" required class="form-control" ng-model="userCtrl.user.lastName" id="lastName" name="lastName">
						</div>

						<div class="form-group" ng-class="{ 'has-error': userCtrl.userForm.companyName.$invalid && userCtrl.userForm.companyName.$dirty }">
							<label for="companyName">Company Name:</label>
							<input type="text" required class="form-control" ng-model="userCtrl.user.companyName" id="companyName" name="companyName">
						</div>
						<div class="form-group">
							<div class="checkbox">
								<label>
									<input type="checkbox" ng-model="userCtrl.user.active"> Enabled
								</label>
							</div>
						</div>
						<!--<div class="form-group" ng-class="{ 'has-error': userCtrl.userForm.username.$invalid && userCtrl.userForm.username.$dirty }">-->
							<!--<label for="role">Role:</label>-->
							<!--<select required multiple="multiple" class="form-control" ng-model="userCtrl.user.roles" id="role" name="role">-->
								<!--<option value="ADMIN">Administrator</option>-->
								<!--<option value="USER">User</option>-->
							<!--</select>-->
						<!--</div>-->
						<button type="submit" class="btn btn-default" ng-disabled="userCtrl.userForm.$invalid">{{userCtrl.buttonText}}</button>
						<div class="alert alert-info margin-top-5" ng-show="userCtrl.message">{{userCtrl.message}}</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<div class="col-sm-6">
		<div class="panel panel-default">
			<div class="panel-heading">
				Users
				<button type="button" class="btn btn-default btn-sm" ng-click="userCtrl.initAddUser()">
					<span class="glyphicon glyphicon-plus"></span> New User
				</button>
			</div>
			<div class="panel-body">

				<div class="alert alert-info margin-top-5" ng-show="userCtrl.deleteMessage">{{userCtrl.deleteMessage}}</div>
				<table class="table table-bordered">
					<thead>
						<tr>
							<th>#</th>
							<th>Username</th>
							<th>Role</th>
							<th>Enabled</th>
							<th></th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="user in userCtrl.users">
							<td>{{$index+1}}</td>
							<td>{{user.username}}</td>
							<td>
								<span ng-repeat="role in user.roles">{{role}}<span ng-if="$index < (user.roles.length-1)">,</span></span>
							</td>
							<td>
								<span ng-show="user.active">Yes</span>
								<span ng-hide="user.active">No</span>
							</td>
							<td>
								<button type="button" class="btn btn-default btn-sm" ng-click="userCtrl.initEdit(user)">
									<span class="glyphicon glyphicon-edit"></span>
								</button>
							</td>
							<td>
								<button type="button" class="btn btn-default btn-sm" ng-click="userCtrl.deleteUser(user)">
									<span class="glyphicon glyphicon-trash"></span>
								</button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
